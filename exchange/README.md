### 交易所模块

假设用户是通过向发行者购买的方式获得初始数字货币的，然后才能进行转账交易。购币的核心操作：发行者将用户购得的数字货币承诺的哈希值添加到系统的承诺池中。

其中cm形式为pederson承诺。

##### 功能流程：

![](/img/1.png)

##### ！其中和以前方案的冲突：

将生成签名的步骤移到这一步

##### 功能说明：

指定端口号开发后端，就一个路由，用户输入公钥和钱数后上监管者服务器发起请求试一下，将公钥取哈希发过去，看用户公钥是否合法，如果公钥不哈希池里，则返回响应错误。若在哈希池里，则生成随机数、承诺CM_v、购币标识（自增序列）、签名、加密信息，将以上所有信息通过RPC端口放到链上，并返回给用户正确的提示信息和CM_v，随机数r

##### 前后端接口：

/buy 

输入：

pubKey string

amount int

返回：

true/false bool

(CM_v uint64)

(r uint64)

##### 生成随机数、承诺CM_v、购币标识（自增序列）、签名、加密信息：

密码学模块待完善

##### RPC接口：

eth_sendTransaction：暂时先见./dev/RPC接口文档，之后应该要修改接口以判断购币还是转账交易

